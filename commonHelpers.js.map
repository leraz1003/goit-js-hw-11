{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createImageGallery(images) {\n  return images.map(({ webformatURL, largeImageURL, tags,likes,views,comments,downloads }) =>\n        `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              alt=\"${tags}\"\n            />\n          </a>\n          <div class=\"gallery-info\">\n            <p class=\"info-item\">\n              <b>Likes</b> <span>${likes}</span>\n            </p>\n            <p class=\"info-item\">\n              <b>Views</b> <span>${views}</span>\n            </p>\n            <p class=\"info-item\">\n              <b>Comments</b> <span>${comments}</span>\n            </p>\n            <p class=\"info-item\">\n              <b>Downloads</b> <span>${downloads}</span>\n            </p>\n          </div>\n\n        </li>`)\n        .join(\"\");\n}\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { createImageGallery } from './render-functions.js';\nimport { initLightbox } from '../main.js';\n\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector('.loader');\n\n\nexport function fetchRequest(event) {\n\n  const queryValue = event.currentTarget.elements.search_query.value.trim().toLowerCase();\n\n  if (!queryValue) {\n    return;\n  }\n  loader.classList.remove('hidden');\n\n\n  const searchParams = new URLSearchParams({\n    key: \"45116727-e543bef81ffe857c5144581e6\",\n    q: queryValue,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n  });\n\n// setTimeout для того, щоб було видно loader\n  setTimeout(() => {\n    fetch(`https://pixabay.com/api/?${searchParams}`)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then((value) => {\n        if (value.hits.length < 1) {\n          iziToast.show({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: \"#ef4040\",\n            position: \"topRight\",\n            messageSize: 16,\n            messageColor: '#fff',\n            messageLineHeight: \"150%\",\n\n            image: '../img/eroor.svg',\n            imageWidth: 24,\n            timeout: 4000\n          });\n\n        } else {\n            gallery.insertAdjacentHTML('beforeend', createImageGallery(value.hits));\n            initLightbox();\n            lightbox.refresh();\n        }\n      })\n      .catch((error) => console.log(error))\n      .finally(() => {\n        loader.classList.add('hidden')\n      })\n  }, 1000);\n\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchRequest } from './js/pixabay-api.js';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector(\".gallery\");\n\n\n\nform.addEventListener('submit', (event)=>{\n  event.preventDefault();\n\n\n  fetchRequest(event);\n  form.reset();\n   gallery.innerHTML = '';\n\n});\n\n\nexport function initLightbox() {\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionSelector: 'img',\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        captionDelay: 250\n    });\n}"],"names":["createImageGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","loader","fetchRequest","event","queryValue","searchParams","response","value","iziToast","initLightbox","error","form","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAmBC,EAAQ,CACzC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAW,IACjF;AAAA,0CACkCL,CAAa;AAAA;AAAA;AAAA,qBAGlCD,CAAY;AAAA,qBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mCAKUC,CAAK;AAAA;AAAA;AAAA,mCAGLC,CAAK;AAAA;AAAA;AAAA,sCAGFC,CAAQ;AAAA;AAAA;AAAA,uCAGPC,CAAS;AAAA;AAAA;AAAA;AAAA,cAIlC,EACL,KAAK,EAAE,CAChB,CCpBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAGxC,SAASC,EAAaC,EAAO,CAElC,MAAMC,EAAaD,EAAM,cAAc,SAAS,aAAa,MAAM,OAAO,cAE1E,GAAI,CAACC,EACH,OAEFH,EAAO,UAAU,OAAO,QAAQ,EAGhC,MAAMI,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAGD,WAAW,IAAM,CACf,MAAM,4BAA4BC,CAAY,EAAE,EAC7C,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAMC,GAAU,CACXA,EAAM,KAAK,OAAS,EACtBC,EAAS,KAAK,CACZ,QAAS,2EACT,gBAAiB,UACjB,SAAU,WACV,YAAa,GACb,aAAc,OACd,kBAAmB,OAEnB,MAAO,mBACP,WAAY,GACZ,QAAS,GACrB,CAAW,GAGCR,EAAQ,mBAAmB,YAAaT,EAAmBgB,EAAM,IAAI,CAAC,EACtEE,IACA,SAAS,QAAO,EAE5B,CAAO,EACA,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,EACnC,QAAQ,IAAM,CACbT,EAAO,UAAU,IAAI,QAAQ,CACrC,CAAO,CACJ,EAAE,GAAI,CAET,CC5DA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCX,EAAU,SAAS,cAAc,UAAU,EAIjDW,EAAK,iBAAiB,SAAWR,GAAQ,CACvCA,EAAM,eAAc,EAGpBD,EAAaC,CAAK,EAClBQ,EAAK,MAAK,EACTX,EAAQ,UAAY,EAEvB,CAAC,EAGM,SAASS,GAAe,CACV,IAAIG,EAAe,aAAc,CAC9C,SAAU,GACV,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,CAAK,CACL"}